.ascii-screensaver {
  --ascii-primary: rgb(100, 180, 255);
  --ascii-bg-base: #020817;
  --ascii-bg-mid: #030b1c;
  --ascii-bg-dark: #010611;
  --ascii-accent-1: rgba(56, 99, 208, 0.16);
  --ascii-accent-2: rgba(34, 74, 168, 0.13);
  --ascii-backdrop-1: rgba(82, 123, 210, 0.28);
  --ascii-backdrop-2: rgba(5, 15, 36, 0.92);
  --ascii-backdrop-3: rgba(42, 96, 220, 0.2);
  --ascii-backdrop-4: rgba(3, 8, 22, 0.92);
  --ascii-backdrop-5: rgba(7, 20, 44, 0.85);
  --ascii-backdrop-6: rgba(2, 6, 16, 0.95);
  --ascii-texture-1: rgba(114, 144, 210, 0.07);
  --ascii-texture-2: rgba(48, 72, 128, 0.08);
  --ascii-texture-3: rgba(230, 238, 255, 0.06);
  --ascii-vignette-start: rgba(0, 0, 0, 0.56);
  --ascii-vignette-end: rgba(0, 0, 0, 0.68);

  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
  isolation: isolate;
  background:
    radial-gradient(120% 90% at 15% 20%, var(--ascii-accent-1), transparent 55%),
    radial-gradient(120% 90% at 85% 80%, var(--ascii-accent-2), transparent 60%),
    linear-gradient(180deg, var(--ascii-bg-base), var(--ascii-bg-mid) 38%, var(--ascii-bg-dark) 100%);
}

.ascii-screensaver__backdrop,
.ascii-screensaver__canvas,
.ascii-screensaver__texture,
.ascii-screensaver__vignette {
  position: absolute;
  inset: 0;
}

.ascii-screensaver__backdrop {
  z-index: 1;
  background:
    radial-gradient(90% 60% at 28% 18%, var(--ascii-backdrop-1), var(--ascii-backdrop-2)),
    radial-gradient(75% 85% at 80% 78%, var(--ascii-backdrop-3), var(--ascii-backdrop-4)),
    linear-gradient(200deg, var(--ascii-backdrop-5), var(--ascii-backdrop-6));
  filter: blur(42px);
  opacity: 0.65;
  mix-blend-mode: screen;
}

.ascii-screensaver__canvas {
  z-index: 2;
  width: 100%;
  height: 100%;
  display: block;
  image-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
}

.ascii-screensaver__canvas--base {
  opacity: 0.95;
}

.ascii-screensaver__canvas--overlay {
  z-index: 3;
  mix-blend-mode: screen;
  opacity: 0.9;
}

.ascii-screensaver__texture {
  z-index: 4;
  background:
    repeating-linear-gradient(
      90deg,
      var(--ascii-texture-1) 0,
      var(--ascii-texture-1) 1px,
      transparent 1px,
      transparent 18px
    ),
    repeating-linear-gradient(
      0deg,
      var(--ascii-texture-2) 0,
      var(--ascii-texture-2) 1px,
      transparent 1px,
      transparent 16px
    ),
  radial-gradient(circle at 50% 45%, var(--ascii-texture-3), transparent 68%);
  mix-blend-mode: soft-light;
  animation: textureDrift 42s linear infinite;
  opacity: 0.78;
}

.ascii-screensaver__vignette {
  z-index: 5;
  background:
    radial-gradient(circle at 50% 45%, rgba(0, 0, 0, 0) 58%, rgba(0, 0, 0, 0.62) 100%),
    linear-gradient(180deg, var(--ascii-vignette-start) 0%, rgba(0, 0, 0, 0) 40%, var(--ascii-vignette-end) 100%);
}

@keyframes textureDrift {
  0% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(-22px, 18px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

@media (max-width: 768px) {
  .ascii-screensaver__texture {
    opacity: 0.62;
    animation-duration: 56s;
  }

  .ascii-screensaver__canvas--overlay {
    opacity: 0.84;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ascii-screensaver__texture {
    animation: none;
  }
}

/* Theme Presets */

.ascii-screensaver--theme-ocean {
  --ascii-primary: rgb(100, 200, 255);
  --ascii-bg-base: #021420;
  --ascii-bg-mid: #032030;
  --ascii-bg-dark: #010c14;
  --ascii-accent-1: rgba(56, 150, 220, 0.18);
  --ascii-accent-2: rgba(34, 120, 180, 0.15);
  --ascii-backdrop-1: rgba(82, 180, 240, 0.32);
  --ascii-backdrop-3: rgba(42, 140, 230, 0.24);
  --ascii-texture-1: rgba(120, 190, 240, 0.08);
  --ascii-texture-2: rgba(60, 140, 200, 0.09);
  --ascii-texture-3: rgba(200, 240, 255, 0.07);
}

.ascii-screensaver--theme-purple {
  --ascii-primary: rgb(180, 100, 255);
  --ascii-bg-base: #140820;
  --ascii-bg-mid: #1c0c30;
  --ascii-bg-dark: #0c0414;
  --ascii-accent-1: rgba(140, 56, 220, 0.18);
  --ascii-accent-2: rgba(100, 34, 180, 0.15);
  --ascii-backdrop-1: rgba(160, 82, 240, 0.32);
  --ascii-backdrop-3: rgba(130, 42, 230, 0.24);
  --ascii-texture-1: rgba(180, 120, 240, 0.08);
  --ascii-texture-2: rgba(120, 60, 200, 0.09);
  --ascii-texture-3: rgba(220, 200, 255, 0.07);
}

.ascii-screensaver--theme-green {
  --ascii-primary: rgb(100, 255, 180);
  --ascii-bg-base: #081408;
  --ascii-bg-mid: #0c200c;
  --ascii-bg-dark: #041004;
  --ascii-accent-1: rgba(56, 220, 150, 0.18);
  --ascii-accent-2: rgba(34, 180, 120, 0.15);
  --ascii-backdrop-1: rgba(82, 240, 180, 0.32);
  --ascii-backdrop-3: rgba(42, 230, 140, 0.24);
  --ascii-texture-1: rgba(120, 240, 190, 0.08);
  --ascii-texture-2: rgba(60, 200, 140, 0.09);
  --ascii-texture-3: rgba(200, 255, 240, 0.07);
}

.ascii-screensaver--theme-amber {
  --ascii-primary: rgb(255, 180, 100);
  --ascii-bg-base: #201408;
  --ascii-bg-mid: #301c0c;
  --ascii-bg-dark: #140804;
  --ascii-accent-1: rgba(220, 140, 56, 0.18);
  --ascii-accent-2: rgba(180, 100, 34, 0.15);
  --ascii-backdrop-1: rgba(240, 160, 82, 0.32);
  --ascii-backdrop-3: rgba(230, 130, 42, 0.24);
  --ascii-texture-1: rgba(240, 180, 120, 0.08);
  --ascii-texture-2: rgba(200, 120, 60, 0.09);
  --ascii-texture-3: rgba(255, 220, 200, 0.07);
}

.ascii-screensaver--theme-monochrome {
  --ascii-primary: rgb(200, 200, 200);
  --ascii-bg-base: #0a0a0a;
  --ascii-bg-mid: #141414;
  --ascii-bg-dark: #050505;
  --ascii-accent-1: rgba(150, 150, 150, 0.16);
  --ascii-accent-2: rgba(120, 120, 120, 0.13);
  --ascii-backdrop-1: rgba(180, 180, 180, 0.28);
  --ascii-backdrop-3: rgba(160, 160, 160, 0.2);
  --ascii-texture-1: rgba(170, 170, 170, 0.07);
  --ascii-texture-2: rgba(140, 140, 140, 0.08);
  --ascii-texture-3: rgba(220, 220, 220, 0.06);
}
